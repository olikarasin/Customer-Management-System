{% extends 'base_layout.html' %}

{% block content %}
<h2>Create Credential for {{ customer.name }}</h2>
<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-primary">Create</button>
    <button type="button" onclick="generatePassword()" class="btn btn-secondary">Generate Password</button>
</form>
<script>
function generatePassword() {
    fetch("{% url 'customers:generate_password' %}")
        .then(response => response.text())
        .then(password => {
            document.getElementById('id_password').value = password;
        });
}
</script>
{% endblock %}

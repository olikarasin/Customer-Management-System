{% extends 'base_layout.html' %}

{% block content %}
<h2>Edit Customer</h2>
<form method="post" id="customer-form">
    {% csrf_token %}
    {{ form.as_p }}
    <div id="email-container">
        <label for="id_emails">Emails:</label>
        {% for email in customer.emails.all %}
        <input type="email" name="emails" class="email-field" value="{{ email.email }}">
        {% endfor %}
        <input type="email" name="emails" class="email-field">
    </div>
    <button type="button" onclick="addEmailField()" class="button">+ Add another email</button>
    <br>
    <button type="submit" class="button">Save Changes</button>
</form>

<script>
function addEmailField() {
    var container = document.getElementById("email-container");
    var input = document.createElement("input");
    input.type = "email";
    input.name = "emails";
    input.className = "email-field";
    container.appendChild(input);
}
</script>
{% endblock %}
